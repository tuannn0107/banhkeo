(()=>{var e,t,n;function c(e,t,n,c){var a=new FormData;a.append("_token",document.querySelector('meta[name="csrf-token"]').content),a.append("name",e),a.append("content",t),n&&a.append("file",n),fetch("/admin/cms",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){c(e)}))}function a(e){var t=document.querySelector(e);t&&t.click()}window.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("img[data-cms]").forEach((function(n){n.addEventListener("click",(function(c){c.currentTarget===c.target&&(c.preventDefault(),t=(e=n).dataset.cms,document.getElementById("cms-image").click())}))})),document.querySelectorAll("[data-cms]:not(img)").forEach((function(e){e.addEventListener("click",(function(t){t.currentTarget===t.target&&(t.preventDefault(),e.focus(),n=e.innerText,e.contentEditable=!0)})),e.addEventListener("blur",(function(t){e.innerText!==n&&c(e.dataset.cms,e.innerText,null,(function(t){e.innerText=t.content}))}))})),document.querySelectorAll("[data-cms-background]").forEach((function(n){n.addEventListener("click",(function(c){c.currentTarget===c.target&&(c.preventDefault(),t=(e=n).dataset.cmsBackground,document.getElementById("cms-image").click())}))})),document.querySelectorAll("[data-cms-listener]").forEach((function(e){e.addEventListener("click",(function(e){e.currentTarget===e.target&&(e.preventDefault(),a("[data-cms-background=".concat(e.target.dataset.cmsListener,"]")),a("img[data-cms=".concat(e.target.dataset.cmsListener,"]")))}))}));var r=document.createElement("input");r.id="cms-image",r.style.display="none",r.type="file",r.accept="image/*",document.body.appendChild(r),document.getElementById("cms-image").onchange=function(){var n=this;this.files.length&&c(t,null,this.files[0],(function(t){"img"===e.tagName.toLowerCase()?e.src=t.content:e.style.backgroundImage="url(".concat(t.content,")"),n.value=""}))}}))})();